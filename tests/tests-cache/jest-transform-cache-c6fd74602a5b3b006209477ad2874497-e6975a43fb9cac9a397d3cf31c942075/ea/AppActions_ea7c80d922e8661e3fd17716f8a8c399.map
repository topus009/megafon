{"version":3,"sources":["AppActions.js"],"names":["axio","dbPrefix","isError","constants","GETUSERS","GETUSERSERROR","DELETEUSER","DELETEUSERERROR","PENDING","SAVEUSERTOSTORE","SAVEUSER","EDITUSER","SETERROR","CLEARFIELDS","axios","create","baseURL","getUsers","dispatch","type","get","then","users","payload","data","catch","err","console","error","deleteUser","id","delete","res","_id","saveUserToStore","user","saveUser","__v","userFields","put","body","log","post","editUser","userData","errorData","setError","clearFields"],"mappings":"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","file":"AppActions.js","sourcesContent":["import axio from 'axios';\nimport { dbPrefix } from '../../config.local';\nimport { isError } from '../helpers/userErrorValidation';\nimport constants from '../constants/App';\n\nconst {\n  GETUSERS,\n  GETUSERSERROR,\n  DELETEUSER,\n  DELETEUSERERROR,\n  PENDING,\n  SAVEUSERTOSTORE,\n  SAVEUSER,\n  EDITUSER,\n  SETERROR,\n  CLEARFIELDS,\n} = constants;\n\nconst axios = axio.create({\n  baseURL: dbPrefix,\n});\n\nfunction getUsers() {\n  return dispatch => {\n    dispatch({ type: PENDING });\n    return axios\n      .get('/contacts')\n      .then(users => {\n        dispatch({\n          type: GETUSERS,\n          payload: users.data,\n        });\n      })\n      .catch(err => {\n        console.error({ err });\n        return dispatch({ type: GETUSERSERROR });\n      });\n  };\n}\nfunction deleteUser(id) {\n  return dispatch => {\n    dispatch({ type: PENDING });\n    return axios\n      .delete(`/contacts/${id}`)\n      .then(res => {\n        dispatch({\n          type: DELETEUSER,\n          payload: res.data._id,\n        });\n      })\n      .catch(err => {\n        console.error({ err });\n        return dispatch({ type: DELETEUSERERROR });\n      });\n  };\n}\nfunction saveUserToStore(user) {\n  return {\n    type: SAVEUSERTOSTORE,\n    payload: user,\n  };\n}\nfunction saveUser(user) {\n  return dispatch => {\n    dispatch({ type: PENDING });\n    const { _id: id } = user;\n    if (id) {\n      const { _id, __v, ...userFields } = user;\n      return axios\n        .put(`/contacts/${id}`, {\n          body: userFields,\n        })\n        .then(users => {\n          dispatch({\n            type: SAVEUSER,\n            payload: users.data,\n          });\n        })\n        .catch(err => console.log(err));\n    }\n    return axios\n      .post(`/contacts`, { body: user })\n      .then(users => {\n        dispatch({\n          type: SAVEUSER,\n          payload: users.data,\n        });\n      })\n      .catch(err => console.log(err));\n  };\n}\nfunction editUser(data) {\n  return {\n    type: EDITUSER,\n    payload: {\n      userData: data,\n      errorData: isError(data),\n    },\n  };\n}\nfunction setError(data) {\n  return {\n    type: SETERROR,\n    payload: isError(data),\n  };\n}\nfunction clearFields() {\n  return {\n    type: CLEARFIELDS,\n  };\n}\n\nexport { getUsers, deleteUser, saveUserToStore, saveUser, editUser, clearFields, setError };\n"]}